!function e(t,a,i){function s(n,o){if(!a[n]){if(!t[n]){var h="function"==typeof require&&require;if(!o&&h)return h(n,!0);if(r)return r(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}var u=a[n]={exports:{}};t[n][0].call(u.exports,function(e){var a=t[n][1][e];return s(a?a:e)},u,u.exports,e,t,a,i)}return a[n].exports}for(var r="function"==typeof require&&require,n=0;n<i.length;n++)s(i[n]);return s}({1:[function(e,t,a){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var s=e("./states/boot"),r=i(s),n=e("./states/game1"),o=i(n),h=e("./states/game2"),l=i(h),u=e("./states/menu"),d=i(u),c=e("./states/preloader"),g=i(c),f=e("./states/gamewin"),p=i(f),b=e("./states/gamelose"),m=i(b),y=e("./states/transition"),w=i(y),v=new Phaser.Game(window.innerWidth,window.innerHeight,Phaser.AUTO,"SaveXMan-game");v.state.add("boot",new r.default),v.state.add("game1",new o.default),v.state.add("transition",new w.default),v.state.add("game2",new l.default),v.state.add("menu",new d.default),v.state.add("preloader",new g.default),v.state.add("gamewin",new p.default),v.state.add("gamelose",new m.default),v.state.start("boot")},{"./states/boot":2,"./states/game1":3,"./states/game2":4,"./states/gamelose":5,"./states/gamewin":6,"./states/menu":7,"./states/preloader":8,"./states/transition":9}],2:[function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e}return r(t,e),n(t,[{key:"preload",value:function(){this.load.image("preloader","assets/load.png"),this.load.image("background","assets/background.png")}},{key:"create",value:function(){this.game.input.maxPointers=1,this.stage.backgroundColor="#fd7e00",this.game.device.desktop?this.game.scale.pageAlignHorizontally=!0:(this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.minWidth=480,this.game.scale.minHeight=260,this.game.scale.maxWidth=640,this.game.scale.maxHeight=480,this.game.scale.forceOrientation(!0),this.game.scale.pageAlignHorizontally=!0,this.game.scale.updateLayout(!0)),this.initGlobalVariables(),this.game.state.start("preloader")}},{key:"initGlobalVariables",value:function(){this.game.global={sugarBar:0,bellBar:0,gameBackground:""}}}]),t}(Phaser.State);a.default=o},{}],3:[function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e}return r(t,e),n(t,[{key:"create",value:function(){this.bgm=this.add.audio("game",1,!0),this.attack=this.add.audio("attack"),this.bgm.play(),this.game.global.gameBackground=this.add.tileSprite(0,0,this.game.width,this.game.height,"game-background"),this.hp=this.add.sprite(10,30,"hp"),this.drawBackground(this.sugar,250,60),this.drawStuffBar(this.sugar,78,60,"#e05d9a",this.game.global.sugarBar),this.drawBackground(this.bell,250,120),this.drawStuffBar(this.bell,78,120,"#4aff94",this.game.global.bellBar),this.hero=this.add.sprite(this.game.world.centerX-47,this.game.height-150,"hero"),this.hero.anchor.setTo(.5,.5),this.physics.enable(this.hero,Phaser.Physics.ARCADE),this.hero.body.collideWorldBounds=!0,this.hero.body.immovable=!0,this.hero.body.bounce.set(1),this.xman=this.add.sprite(100,200,"xman"),this.xman.enableBody=!0,this.xman.physicsBodyType=Phaser.Physics.ARCADE,this.add.tween(this.xman).to({x:700},1500,Phaser.Easing.Linear.None,!0,0,1e3,!0),this.bell=this.add.group(),this.bell.enableBody=!0,this.bell.createMultiple(15,"bell"),this.bell.setAll("outOfBoundsKill",!0),this.bell.setAll("checkWorldBounds",!0),this.time.events.loop(.7*Phaser.Timer.SECOND,this.generateStuff,this,this.bell),this.sugar=this.add.group(),this.sugar.enableBody=!0,this.sugar.createMultiple(15,"sugar"),this.sugar.setAll("outOfBoundsKill",!0),this.sugar.setAll("checkWorldBounds",!0),this.time.events.loop(.7*Phaser.Timer.SECOND,this.generateStuff,this,this.sugar),this.time.events.add(Phaser.Timer.SECOND*this.rnd.integerInRange(20,25),this.changeGame,this)}},{key:"update",value:function(){this.game.global.gameBackground.tilePosition.y+=3,this.physics.arcade.overlap(this.bell,this.hero,this.getBellBar,null,this),this.physics.arcade.overlap(this.sugar,this.hero,this.getSugarBar,null,this),this.hero.x=this.input.x}},{key:"getBellBar",value:function(e,t){t.kill(),this.attack.play(),this.game.global.bellBar>340&&(this.game.global.bellBar=340),this.game.global.bellBar+=10,this.drawStuffBar(this.bell,78,120,"#4aff94",this.game.global.bellBar)}},{key:"getSugarBar",value:function(e,t){t.kill(),this.attack.play(),this.game.global.sugarBar>340&&(this.game.global.sugarBar=340),this.game.global.sugarBar+=10,this.drawStuffBar(this.sugar,78,60,"#e05d9a",this.game.global.sugarBar)}},{key:"generateStuff",value:function(e){var t=e.getFirstExists(!1);t.reset(this.rnd.integerInRange(200,800),250),t.body.velocity.y=this.rnd.integerInRange(200,600)}},{key:"drawBackground",value:function(e,t,a){var i=this.add.bitmapData(350,35);i.ctx.beginPath(),i.ctx.rect(0,0,350,40),i.ctx.fillStyle="#ffffff",i.ctx.fill(),e=this.add.sprite(t,a,i),e.anchor.set(.5)}},{key:"drawStuffBar",value:function(e,t,a,i,s){var r=this.add.bitmapData(s,30);r.ctx.beginPath(),r.ctx.rect(0,0,s,40),r.ctx.fillStyle=i,r.ctx.fill(),e=this.add.sprite(t,a,r),e.anchor.y=.5,e.cropEnabled=!0}},{key:"changeGame",value:function(){this.bgm.stop(),this.game.state.start("transition")}}]),t}(Phaser.State);a.default=o},{}],4:[function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e}return r(t,e),n(t,[{key:"create",value:function(){this.game.global.gameBackground=this.add.tileSprite(0,0,this.game.width,this.game.height,"fight-background"),this.sugarCacheWidth=new Phaser.Rectangle(0,0,this.game.global.sugarBar,30),this.bellCacheWidth=new Phaser.Rectangle(0,0,this.game.global.bellBar,30),this.hp=this.add.sprite(10,30,"hp"),this.drawBackground(this.sugar,250,60),this._sugarBar=this.drawStuffBar(this.sugar,78,60,"#e05d9a",this.game.global.sugarBar,this.sugarCacheWidth),this.drawBackground(this.bell,250,120),this._bellBar=this.drawStuffBar(this.bell,78,120,"#4aff94",this.game.global.bellBar,this.bellCacheWidth),this.hero=this.add.sprite(this.game.world.centerX,this.game.height-150,"hero"),this.hero.anchor.setTo(.5),this.physics.enable(this.hero,Phaser.Physics.ARCADE),this.hero.body.collideWorldBounds=!0,this.hero.body.immovable=!0,this.hero.body.bounce.set(1),this.hero.alpha=1,this.deer=this.add.sprite(this.game.world.centerX,300,"deer"),this.deer.anchor.set(.5),this.physics.enable(this.deer,Phaser.Physics.ARCADE);var e=this.rnd.integerInRange(1e3,2e3);this.deer.life=60,this.deer.x=300,this.add.tween(this.deer).to({x:700},e,"Cubic.easeInOut",!0,0,1e3,!0),this.bullets=this.add.group(),this.bullets.enableBody=!0,this.bullets.physicsBodyType=Phaser.Physics.ARCADE,this.bullets.createMultiple(30,"bullet"),this.bullets.setAll("anchor.x",.5),this.bullets.setAll("anchor.y",1),this.bullets.setAll("outOfBoundsKill",!0),this.bullets.setAll("checkWorldBounds",!0),this.bellBullets=this.add.group(),this.bellBullets.enableBody=!0,this.bellBullets.physicsBodyType=Phaser.Physics.ARCADE,this.bellBullets.createMultiple(30,"bellBullet"),this.bellBullets.setAll("anchor.x",.5),this.bellBullets.setAll("anchor.y",1),this.bellBullets.setAll("outOfBoundsKill",!0),this.bellBullets.setAll("checkWorldBounds",!0),this.fight=this.add.audio("fight",1,!0),this.attack=this.add.audio("attack"),this.hitted=this.add.audio("hitted"),this.fight.play()}},{key:"update",value:function(){this.game.global.gameBackground.tilePosition.y+=3,this.bellCacheWidth.width>=0&&this.sugarCacheWidth.width>0?(this.heroFires(),this._bellBar.updateCrop(),this.deer.life>0?(this.enemyFires(),this._sugarBar.updateCrop()):this.gameWin()):this.bellCacheWidth.width<=0&&this.sugarCacheWidth.width>0?this.time.events.add(4*Phaser.Timer.SECOND,this.relay,this):this.gameLose(),this.physics.arcade.overlap(this.bullets,this.hero,this.hitHero,null,this),this.physics.arcade.overlap(this.bellBullets,this.deer,this.hitEnemy,null,this),this.hero.x=this.input.x}},{key:"enemyFires",value:function(){var e=this.bullets.getFirstExists(!1);e&&this.time.now>(this.firingTime||0)&&(e.reset(this.deer.body.x+300,this.deer.body.y+100),this.physics.arcade.moveToObject(e,this.hero,this.rnd.integerInRange(200,500)),this.firingTime=this.time.now+200)}},{key:"heroFires",value:function(){var e=this.bellBullets.getFirstExists(!1);e&&this.time.now>(this.heroTime||0)&&(e.reset(this.hero.x,this.hero.y+8),e.body.velocity.y=-300,this.heroTime=this.time.now+400,this.bellCacheWidth.width-=5,this.attack.play())}},{key:"hitEnemy",value:function(e,t){t.kill(),this.hitted.play(),this.deer.life<0&&(this.deer.life=0),this.deer.life--}},{key:"hitHero",value:function(e,t){t.kill(),this.hitted.play(),this.sugarCacheWidth.width<0&&(this.sugarCacheWidth.width=0),this.sugarCacheWidth.width-=5,this.add.tween(this.hero).to({alpha:.1},500,Phaser.Easing.Linear.None,!0,0,0,!0)}},{key:"drawBackground",value:function(e,t,a){var i=this.add.bitmapData(350,35);i.ctx.beginPath(),i.ctx.rect(0,0,350,40),i.ctx.fillStyle="#ffffff",i.ctx.fill(),e=this.add.sprite(t,a,i),e.anchor.set(.5)}},{key:"drawStuffBar",value:function(e,t,a,i,s,r){var n=this.add.bitmapData(s,30);return n.ctx.beginPath(),n.ctx.rect(0,0,s,40),n.ctx.fillStyle=i,n.ctx.fill(),e=this.add.sprite(t,a,n),e.anchor.y=.5,e.cropEnabled=!0,e.crop(r),e}},{key:"relay",value:function(){this.deer.life>0?this.gameLose():this.gameWin()}},{key:"gameWin",value:function(){this.fight.stop(),this.game.state.start("gamewin")}},{key:"gameLose",value:function(){this.fight.stop(),this.game.state.start("gamelose")}}]),t}(Phaser.State);a.default=o},{}],5:[function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e}return r(t,e),n(t,[{key:"create",value:function(){this.game.global.gameBackground=this.add.tileSprite(0,0,this.game.width,this.game.height,"fight-background"),this.deer=this.add.sprite(this.game.world.centerX,300,"deer"),this.deer.anchor.set(.5),this.hero=this.add.sprite(this.game.world.centerX,this.game.height-150,"hero"),this.hero.anchor.setTo(.5),this.hero.alpha=1,this.add.tween(this.hero).to({alpha:0},500,Phaser.Easing.Linear.None,!0,500,2,!1),this.time.events.add(2.5*Phaser.Timer.SECOND,this.gameLose,this),this.ui=this.add.audio("ui"),this.lose=this.add.audio("lose",1,!0),this.lose.play()}},{key:"gameLose",value:function(){this.add.tileSprite(0,0,this.game.width,this.game.height,"mask"),this.blood=this.add.sprite(this.game.world.centerX,-300,"blood"),this.blood.anchor.setTo(.5),this.blood.scale.setTo(1,1),this.blood.inputEnabled=!0,this.blood.events.onInputDown.add(this.loseDisplay,this);var e=this.add.tween(this.blood).to({y:this.game.world.centerY+100},2e3,Phaser.Easing.Bounce.Out,!0,0,0,!1),t=this.add.tween(this.blood.scale).to({x:1.2,y:1.2},1e3,Phaser.Easing.Linear.None,!0,0,1e3,!0);e.chain(t),e.start()}},{key:"loseDisplay",value:function(){this.ui.play(),this.blood.kill();var e=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"lose");e.anchor.set(.5),this.againBtn=this.add.sprite(this.game.world.centerX-160,this.game.world.centerY+290,"again-btn"),this.againBtn.anchor.set(.5),this.againBtn.inputEnabled=!0,this.againBtn.events.onInputDown.add(this.restartGame,this),this.xiaziBtn=this.add.sprite(this.game.world.centerX+160,this.game.world.centerY+290,"xiazi-btn"),this.xiaziBtn.anchor.set(.5),this.xiaziBtn.inputEnabled=!0,this.xiaziBtn.events.onInputDown.add(this.openXiazi,this)}},{key:"openXiazi",value:function(){this.ui.play(),window.open("http://ccnubox.muxixyz.com/","_blank")}},{key:"resetGlobalVariables",value:function(){this.game.global.sugarBar=0,this.game.global.bellBar=0,this.stage.backgroundColor="#fd7e00",this.lose.stop()}},{key:"restartGame",value:function(){this.ui.play(),this.resetGlobalVariables(),this.game.state.start("game1")}}]),t}(Phaser.State);a.default=o},{}],6:[function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e}return r(t,e),n(t,[{key:"create",value:function(){this.stage.backgroundColor="#4d122e",this.game.global.gameBackground=this.add.tileSprite(0,0,this.game.width,this.game.height,"fight-background"),this.deer=this.add.sprite(this.game.world.centerX,300,"deer"),this.deer.anchor.set(.5),this.hero=this.add.sprite(this.game.world.centerX,this.game.height-150,"hero"),this.hero.anchor.setTo(.5,.5),this.time.events.add(.5*Phaser.Timer.SECOND,this.deerClean,this),this.time.events.add(2*Phaser.Timer.SECOND,this.changeBackground,this),this.time.events.add(3*Phaser.Timer.SECOND,this.showTweens,this),this.ui=this.add.audio("ui"),this.win=this.add.audio("win",1,!0),this.win.play()}},{key:"showTweens",value:function(){this.add.tileSprite(0,0,this.game.width,this.game.height,"mask"),this.gift=this.add.sprite(this.game.world.centerX+65,this.game.world.centerY-800,"gift"),this.gift.anchor.setTo(.5),this.gift.scale.setTo(1,1),this.gift.inputEnabled=!0,this.gift.events.onInputDown.add(this.winDisplay,this);var e=this.add.tween(this.gift).to({y:this.game.world.centerY+50},2e3,Phaser.Easing.Bounce.Out,!0,0,0,!1),t=this.add.tween(this.gift.scale).to({x:1.2,y:1.2},1e3,Phaser.Easing.Linear.None,!0,0,1e3,!0);e.chain(t),e.start()}},{key:"changeBackground",value:function(){this.win.play(),this.game.global.gameBackground=this.add.tileSprite(0,0,this.game.width,this.game.height,"game-background"),this.game.global.gameBackground.alpha=1,this.add.tween(this.game.global.gameBackground).to({alpha:0},1e3,Phaser.Easing.Bounce.Out,!0,0,0,!0)}},{key:"deerClean",value:function(){this.deer.kill(),this.deer=this.game.add.sprite(this.game.world.centerX,300,"clean-deer"),this.deer.anchor.set(.5),this.deer.smoothed=!1;this.deer.animations.add("change");this.deer.animations.play("change",4,!1)}},{key:"winDisplay",value:function(){this.ui.play(),this.gift.kill();var e=this.add.sprite(this.game.world.centerX,this.game.world.centerY,"win");e.anchor.set(.5),this.againBtn=this.add.sprite(this.game.world.centerX-160,this.game.world.centerY+290,"again-btn"),this.againBtn.anchor.set(.5),this.againBtn.inputEnabled=!0,this.againBtn.events.onInputDown.add(this.restartGame,this),this.xiaziBtn=this.add.sprite(this.game.world.centerX+160,this.game.world.centerY+290,"xiazi-btn"),this.xiaziBtn.anchor.set(.5),this.xiaziBtn.inputEnabled=!0,this.xiaziBtn.events.onInputDown.add(this.openXiazi,this)}},{key:"openXiazi",value:function(){this.ui.play(),window.open("http://ccnubox.muxixyz.com/","_blank")}},{key:"resetGlobalVariables",value:function(){this.game.global.sugarBar=0,this.game.global.bellBar=0,this.stage.backgroundColor="#fd7e00",this.win.stop()}},{key:"restartGame",value:function(){this.ui.play(),this.resetGlobalVariables(),this.game.state.start("game1")}}]),t}(Phaser.State);a.default=o},{}],7:[function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e}return r(t,e),n(t,[{key:"create",value:function(){this.stage.backgroundColor="#fd7e00",this.add.tileSprite(0,0,this.game.width,this.game.height,"background");var e=this.add.sprite(395,-10,"xman-head"),t=this.add.sprite(this.game.world.centerX,750,"title");t.anchor.set(.5);var a=this.add.sprite(480,960,"role");a.alpha=1;var i=this.add.sprite(360,1e3,"button");i.alpha=1,i.inputEnabled=!0,i.events.onInputDown.add(this.startGame,this),this.ui=this.add.audio("ui"),this.add.tween(t).from({y:-200},1e3,Phaser.Easing.Linear.None,!0),this.add.tween(e).from({x:600},1e3,Phaser.Easing.Linear.None,!0),this.add.tween(i).from({y:500,alpha:0},1e3,Phaser.Easing.Bounce.Out,!0,700),this.add.tween(a).from({x:460,y:1020,alpha:0},800,Phaser.Easing.Linear.None,!0,1300)}},{key:"update",value:function(){}},{key:"startGame",value:function(){this.ui.play(this.button),this.game.state.start("game1")}}]),t}(Phaser.State);a.default=o},{}],8:[function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.asset=null,e.ready=!1,e}return r(t,e),n(t,[{key:"preload",value:function(){this.asset=this.add.sprite(.5*this.game.width-325,.5*this.game.height-32,"preloader"),this.load.setPreloadSprite(this.asset);var e=this.add.text(.5*this.game.width,.5*this.game.height-100,"Loading...",{font:"70px Arial",fill:"#7E3600",align:"center"});e.anchor.set(.5);var t=this.add.tileSprite(0,0,this.game.width,this.game.height,"background");t.alpha=.2,this.load.onLoadComplete.addOnce(this.onLoadComplete,this),this.loadResources()}},{key:"update",value:function(){this.game.state.start("menu")}},{key:"loadResources",value:function(){this.load.image("title","assets/title.png"),this.load.image("xman-head","assets/xman-head.png"),this.load.image("button","assets/button.png"),this.load.image("role","assets/role.png"),this.load.image("game-background","assets/game-background.png"),this.load.image("fight-background","assets/fight-background.png"),this.load.image("xman","assets/xman.png"),this.load.image("xman-hit","assets/xman-hit.png"),this.load.image("hero","assets/hero.png"),this.load.image("bell","assets/bell.png"),this.load.image("sugar","assets/sugar.png"),this.load.image("hp","assets/hp.png"),this.load.image("deer","assets/deer.png"),this.load.image("good-deer","assets/good-deer.png"),this.load.image("bullet","assets/bullet.png"),this.load.image("bellBullet","assets/bellBullet.png"),this.load.image("blood","assets/blood.png"),this.load.image("mask","assets/mask.png"),this.load.image("gift","assets/gift.png"),this.load.image("win","assets/win.png"),this.load.image("lose","assets/lose.png"),this.load.image("again-btn","assets/again-btn.png"),this.load.image("xiazi-btn","assets/xiazi-btn.png"),this.load.spritesheet("clean-deer","assets/animation.png",563,291,4),this.load.audio("attack","assets/attack.wav"),this.load.audio("deer-appear","assets/deer.wav"),this.load.audio("fight","assets/fight.mp3"),this.load.audio("game","assets/game.wav"),this.load.audio("hitted","assets/hitted.wav"),this.load.audio("win","assets/win.wav"),this.load.audio("lose","assets/lose.wav"),this.load.audio("ui","assets/ui.wav")}},{key:"onLoadComplete",value:function(){this.ready=!0}}]),t}(Phaser.State);a.default=o},{}],9:[function(e,t,a){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,a,i){return a&&e(t.prototype,a),i&&e(t,i),t}}(),o=function(e){function t(){i(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e}return r(t,e),n(t,[{key:"create",value:function(){this.game.global.gameBackground=this.add.tileSprite(0,0,this.game.width,this.game.height,"fight-background"),this.game.global.gameBackground.alpha=1,this.add.tween(this.game.global.gameBackground).from({alpha:0},1e3,Phaser.Easing.Bounce.Out,!0,0,0,!0),this.hp=this.add.sprite(10,30,"hp"),this.drawBackground(this.sugar,250,60),this.drawStuffBar(this.sugar,78,60,"#e05d9a",this.game.global.sugarBar),this.drawBackground(this.bell,250,120),this.drawStuffBar(this.bell,78,120,"#4aff94",this.game.global.bellBar),this.hero=this.add.sprite(this.game.world.centerX,this.game.height-150,"hero"),this.hero.anchor.setTo(.5,.5),this.xman=this.add.sprite(this.game.world.centerX-91,200,"xman"),this.xman.enableBody=!0,this.deer=this.add.sprite(this.game.world.centerX,-200,"deer"),this.deer.anchor.set(.5),this.time.events.add(2*Phaser.Timer.SECOND,this.changeXman,this),this.time.events.add(5*Phaser.Timer.SECOND,this.changeGame,this),this.appear=this.add.audio("deer-appear",1,!0),this.appear.play()}},{key:"changeXman",value:function(){this.xman.kill(),this.xman=this.add.sprite(this.game.world.centerX-91,90,"xman-hit");var e=this.add.tween(this.xman).to({y:-400},2e3,"Quart.easeIn"),t=this.add.tween(this.deer).to({y:300},1e3,Phaser.Easing.Linear.None);e.chain(t),e.start()}},{key:"drawBackground",value:function(e,t,a){var i=this.add.bitmapData(350,35);i.ctx.beginPath(),i.ctx.rect(0,0,350,40),i.ctx.fillStyle="#ffffff",i.ctx.fill(),e=this.add.sprite(t,a,i),e.anchor.set(.5)}},{key:"drawStuffBar",value:function(e,t,a,i,s){var r=this.add.bitmapData(s,30);r.ctx.beginPath(),r.ctx.rect(0,0,s,40),r.ctx.fillStyle=i,r.ctx.fill(),e=this.add.sprite(t,a,r),e.anchor.y=.5}},{key:"changeGame",value:function(){this.appear.stop(),this.game.state.start("game2")}}]),t}(Phaser.State);a.default=o},{}]},{},[1]);
